---
title: Next.js 프로젝트 폴더구조 고민하기
date: "2023-09-06"
template: "post"
draft: true
slug: "/posts/nextjs-project-foldering"
category: "Tech"
description: "여러분 프로젝트의 폴더구조는 안녕하신가요?"
---

최근 회사에서 팀원들과 프로젝트의 폴더구조에 대해서 수차례 논의할 기회가 있었다. 가장 메인으로 다루고 있는 프로젝트의 폴더구조에 관한 것이였는데, 이 프로젝트는 여러가지 문제점을 안고 있기 때문이었다.

## 현재 프로젝트 폴더구조의 문제점
**1. pages 폴더 하위에 Component.tsx 파일이 존재하여 component 이름으로 라우팅이 가능하다(?)**

메인 프로젝트의 태생은 Next.js가 아니라 CRA 프로젝트였고 시간이 지나면서 Next.js로 마이그레이션을 진행했다. Next.js를 사용해 본 사람은 잘 알겠지만 파일시스템 기반의 라우팅을 지원해 pages 폴더 하위의 폴더 또는 파일 구조에 따라서 라우팅이 가능하다. 그런데 이 프로젝트의 태생이 Next.js가 아니였던지라 기존에 pages 폴더 하위에 해당 페이지에서 사용되는 컴포넌트의 파일도 함께 위치하고 있었고 이로 인해 컴포넌트 파일도 path가 되어 라우팅이 가능한 기묘한 현상이 나타나게 되었다. 

**2. 기준없이 뒤섞이고 비대해진 Components 폴더**

도메인 로직을 갖지 않은 공통 컴포넌트들은 root 폴더 바로 밑의 components 폴더에 모아두었다. 아토믹 디자인 패턴을 일부? 차용하여 Components 폴더 밑에서 Atoms과 그 외의 컴포넌트로 분류하여 담아두었는데, 이 방법도 썩 효과적이진 못했다. Atoms의 조건에 해당하는 컴포넌트들은 그리 많지 않았기 때문에 그 외의 컴포넌트들은 기준없이 뒤섞이고 비대해졌다. 

## 폴더구조를 개선하기 위한 여러가지 고민
팀원들과 폴더구조 개선 방향에 대해 논의하는 회의를 하기로 했다. 회의에 앞서 어떤 방법이 좋을지 고민하면서 다음과(링크 추가) 같은 글을 읽고, 팀원들에게 공유했다. 

엔티티 기반의 폴더링에 대해서는 ..한 장점이 있지만 현재 프로젝트에 개선 방법으로 도입하기에는 어려움이 있다는 결론에 닿았다. ..., .... 하다는 점이 이유였다. 
대신 현재 프로젝트에 도입이 더 수월한 페이지 기반의 분류 방법을 도입하기로 했다. 


## domainComponents의 도입

## 남아있는 고민